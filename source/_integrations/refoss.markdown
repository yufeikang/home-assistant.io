---
title: Refoss
description: Integrate Refoss devices
ha_category:
  - Sensor
  - Switch
ha_release: 2024.1
ha_codeowners:
  - '@ashionky'
ha_iot_class: Local Polling
ha_domain: refoss
ha_config_flow: true
ha_platforms:
  - sensor
  - switch
ha_integration_type: integration
---

Integrate Refoss devices into Home Assistant.

## Prerequisites

- Devices need to be connected to the local network first.
- Devices and Home Assistant must be connected to the same network.
- The integration will occupy port: 9989.    
{% include integrations/config_flow.md %}

### Supported device models

| Model                               | Version            |             
|-------------------------------------|--------------------|
| `Refoss Smart Wi-Fi Switch, R10`    | `all`              |
| `Refoss Smart Wi-Fi Switch, R20`    | `all`              |
| `Refoss Smart Energy Monitor, EM06` | `v2.3.8 and above` |
| `Refoss Smart Energy Monitor, EM16` | `v3.1.7 and above` |
 
### Discover device

After integrating Refoss, it will start socket broadcast and Home Assistant will automatically discover Refoss devices under the current LAN.
  
## Entity naming

The integration uses the following strategy to name its entities:

-  The entity name will be generated by `Device Name` and `Channel Number`.

Single channel device.

Examples:

| Device Name |Channel Number| Entity Name |              
| ----------- | -----------|------------|
| `r10`       | `0`           | r10        |

Multi-channel device.
  
Examples:

| Device Name | Channel Number | Entity Name |              
| ----------- |----------------|----------|
| `r10`       | `0`            | r10      |
| `r10`       | `1`            | r10-1    |

## Reset device

Long-press the button on the device to reset it.

## Troubleshooting

### No devices found on the network

If the Refoss device isn't discovered by Home Assistant automatically, follow these steps:
1. Verify that your Refoss device and Home Assistant are on the same network
2. Enable debug logging for the integration:
   ```yaml
   logger:
     logs:
       homeassistant.components.refoss: debug
   ```
3. Restart Home Assistant and attempt to add the integration again
4. Check the logs for messages containing "Discovered devices"
5. If no devices are found, verify:
   - Network connectivity
   - Device firmware version matches the supported versions listed above